"use strict";(self.webpackChunk_rmbg_website=self.webpackChunk_rmbg_website||[]).push([[982],{1438:(e,t,n)=>{n.d(t,{ZP:()=>o});var a=function(e,t,n,a){return new(n||(n=Promise))((function(r,o){function s(e){try{l(a.next(e))}catch(t){o(t)}}function i(e){try{l(a.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}l((a=a.apply(e,t||[])).next())}))},r=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(n[a[r]]=e[a[r]])}return n};const o=function(e,t){var{runtime:n="https://unpkg.com/@rmbg/browser/dist/rmbg-runtime.iife.js",onProgress:o}=t,s=r(t,["runtime","onProgress"]);return a(this,void 0,void 0,(function*(){return new Promise((t=>{const a=document.createElement("iframe"),r=`<html><body><script type="module" src="${n}"><\/script></html>`;function i(){var e,t;window.removeEventListener("message",l),a.removeEventListener("load",c),a.removeEventListener("error",u),null===(t=null===(e=a.contentWindow)||void 0===e?void 0:e.location)||void 0===t||t.reload(),a.remove()}function l(e){if(e.source===a.contentWindow){const{name:n,detail:a}=e.data;"rmbg:success"===n?(t(a),i()):"rmbg:error"===n?i():"rmbg:progress"===n&&(null==o||o(a.progress,a.download,a.process))}}function c(){var t;window.addEventListener("message",l),null===(t=a.contentWindow)||void 0===t||t.postMessage({name:"rmbg:process",detail:{image:e,options:s}},"*")}function u(){i()}a.srcdoc=r,a.width="0",a.height="0",document.body.appendChild(a),a.addEventListener("load",c),a.addEventListener("error",u)}))}))}},7415:(e,t,n)=>{function a(e){return void 0===e&&(e="https://unpkg.com/@rmbg/model-briaai@0.0.1/"),{name:"briaai",files:["briaai-1.onnx","briaai-2.onnx","briaai-3.onnx","briaai-4.onnx","briaai-5.onnx"],mime:"application/octet-stream",publicPath:e,resolution:1024,size:44403226}}function r(e){return void 0===e&&(e="https://unpkg.com/@rmbg/model-modnet@0.0.1/"),{name:"modnet",files:["modnet-1.onnx","modnet-2.onnx","modnet-3.onnx"],mime:"application/octet-stream",publicPath:e,resolution:512,size:25888640}}function o(e){return void 0===e&&(e="https://unpkg.com/@rmbg/model-silueta@0.0.1/"),{name:"silueta",files:["silueta-1.onnx","silueta-2.onnx","silueta-3.onnx","silueta-4.onnx","silueta-5.onnx"],mime:"application/octet-stream",publicPath:e,resolution:320,size:44173029}}function s(e){return void 0===e&&(e="https://unpkg.com/@rmbg/model-u2netp@0.0.1/"),{name:"u2netp",files:["u2netp.onnx"],mime:"application/octet-stream",publicPath:e,resolution:320,size:4574861}}n.d(t,{FB:()=>s,nl:()=>r,qi:()=>a,y0:()=>o})},1284:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var a,r=n(8364),o=n(2983),s=n(5458),i=n(1438),l=n(7415),c=n(1603),u=n(2675),m=n(5851),d=n(18);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},h.apply(this,arguments)}const p=e=>{let{title:t,titleId:n,...r}=e;return o.createElement("svg",h({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,"aria-labelledby":n},r),t?o.createElement("title",{id:n},t):null,a||(a=o.createElement("path",{d:"m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z"})))};var b;function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},f.apply(this,arguments)}const g=e=>{let{title:t,titleId:n,...a}=e;return o.createElement("svg",f({xmlns:"http://www.w3.org/2000/svg",height:24,viewBox:"0 -960 960 960",width:24,"aria-labelledby":n},a),t?o.createElement("title",{id:n},t):null,b||(b=o.createElement("path",{d:"M400-40v-80H200q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h200v-80h80v880h-80ZM200-240h200v-240L200-240Zm360 120v-360l200 240v-520H560v-80h200q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H560Z"})))};function v(e,t){return(n=e,new Promise(((e,t)=>{const a=new Image;a.onload=()=>{e(a)},a.onerror=t,a.src=n}))).then((e=>{const n=document.createElement("canvas"),a=n.getContext("2d");if(!a)throw new Error("Could not create canvas context");return n.width=e.naturalWidth,n.height=e.naturalHeight,a.fillStyle=t,a.fillRect(0,0,n.width,n.height),a.drawImage(e,0,0,n.width,n.height),new Promise(((e,t)=>{n.toBlob((n=>{n||t(new Error("Could not create blob"));const a=URL.createObjectURL(n);e(a)}),"image/png",1)}))}));var n}var x=n(7458);const w=[{label:"U2netp",value:(0,l.FB)(void 0)},{label:"Modnet",value:(0,l.nl)(void 0)},{label:"Briaai",value:(0,l.qi)(void 0)},{label:"Silueta",value:(0,l.y0)(void 0)}],j=["https://images.unsplash.com/photo-1573496359142-b8d87734a5a2?q=80&w=1024","https://images.unsplash.com/photo-1623006772851-a8bf2c47d304?q=80&w=1024","https://images.unsplash.com/photo-1552053831-71594a27632d?q=80&w=1024","https://images.unsplash.com/photo-1574144611937-0df059b5ef3e?q=80&w=1024","https://images.unsplash.com/photo-1620917669809-1af0497965de?q=80&w=1024"];function y(){const{siteConfig:e}=(0,c.Z)(),[t,n]=(0,o.useState)(w[0]),[a,l]=(0,o.useState)(""),[h,b]=(0,o.useState)(!1),[f,y]=(0,o.useState)(0),[k,N]=(0,o.useState)(!1),[P,O]=(0,o.useState)({}),[C,E]=(0,o.useState)(""),[L,S]=(0,o.useState)("transparent"),[Z,q]=(0,o.useState)(!1),R=(0,o.useCallback)((()=>{l(""),b(!1),y(0),N(!1),O({}),E(""),S("transparent"),q(!1)}),[]),U=(0,o.useCallback)(((e,t)=>{b(!0),y(0),N(!0),(0,i.ZP)(e,{model:t,onnx:{publicPath:"/node_modules/onnxruntime-web/dist/"},runtime:"/node_modules/@rmbg/browser/dist/rmbg-runtime.iife.js",onProgress(e,t){y(100*e),t>=1&&N(!1)}}).then((e=>{b(!1),y(0),N(!1),O((n=>({...n,[t.name]:URL.createObjectURL(e)}))),E(URL.createObjectURL(e))})).catch((()=>{R()}))}),[R]);return(0,o.useEffect)((()=>{if(a&&t)if(C){const e=P[t.value.name];e?E(e):U(a,t.value)}else U(a,t.value)}),[a,t,C,U]),(0,x.jsx)(u.Z,{title:`Hello from ${e.title}`,description:"Description will go into a meta tag in <head />",children:(0,x.jsxs)("div",{className:"container my-20",children:[(0,x.jsxs)("header",{className:"mb-6 text-center md:mb-12",children:[(0,x.jsx)(m.Z,{as:"h1",className:"mb-4 font-bold text-4xl md:mb-6 md:text-6xl",children:"Background Remover"}),(0,x.jsx)("p",{className:"text-base text-[--ifm-color-secondary-darkest] md:text-lg",children:"Remove image backgrounds at no cost and substitute them with a variety of backgrounds you prefer."})]}),(0,x.jsxs)("main",{children:[C?(0,x.jsxs)("div",{className:(0,r.Z)("flex justify-between items-center mx-auto my-4 max-w-screen-sm",{"pointer-events-none opacity-60":h}),children:[(0,x.jsx)(d.iY,{colors:["transparent","#000000","#e91e63","#2196f3","#4caf50"],onChange:e=>{S(e.hex)}}),(0,x.jsx)(g,{className:"fill-gray-600 cursor-pointer hover:fill-gray-900",onPointerDown:()=>{q(!0)},onPointerUp:()=>{q(!1)},onPointerOut:()=>{q(!1)},onPointerCancel:()=>{q(!1)}})]}):null,(0,x.jsxs)("div",{className:"relative mx-auto max-w-screen-sm aspect-[4/3] border border-solid border-gray-100 rounded-2xl shadow-lg overflow-hidden",children:[a?null:(0,x.jsxs)("div",{className:"flex flex-col justify-center items-center w-full h-full",style:{backgroundColor:"white",backgroundImage:"repeating-conic-gradient(#f5f2fa 0 25%,#0000 0 50%)",backgroundSize:"28px 28px"},children:[(0,x.jsxs)("button",{className:"button button--primary button--lg relative",children:["Upload an Image",(0,x.jsx)("input",{type:"file",className:"absolute inset-0 opacity-0 cursor-pointer",onChange:e=>{const t=e.target.files?.[0];if(t){const e=URL.createObjectURL(t);l(e)}}})]}),(0,x.jsxs)("div",{className:(0,r.Z)("mt-6 text-center",{"pointer-events-none opacity-60":h}),children:[(0,x.jsx)("div",{className:"text-sm text-neutral-500",children:"No picture on hand? Try with one of these"}),(0,x.jsx)("div",{className:"my-2 flex justify-center items-center",children:j.map(((e,t)=>(0,x.jsx)("img",{className:"mr-1 w-14 h-14 rounded object-cover cursor-pointer last:mr-0 hover:opacity-85",src:e,alt:"",onClick:()=>{l(e)}},t)))})]}),(0,x.jsxs)("div",{className:"flex justify-center items-center text-xs text-neutral-500",children:[(0,x.jsx)("label",{children:"Model: "}),(0,x.jsx)("select",{className:"relative z-10 width-full h-[32px] text-xs text-neutral-500 border-none bg-transparent",value:t.value.name,onChange:e=>{n(w.find((t=>t.value.name===e.target.value)))},children:w.map((e=>(0,x.jsx)("option",{value:e.value.name,children:e.label},e.value.name)))})]})]}),!a||C&&!Z?null:(0,x.jsx)("div",{className:"absolute inset-0 flex justify-center items-center w-full h-full bg-neutral-100",children:(0,x.jsx)("img",{className:"block w-auto h-full object-contain",src:a})}),C&&!Z?(0,x.jsx)("div",{className:"absolute inset-0 flex justify-center items-center w-full h-full bg-gray-100",children:(0,x.jsx)("img",{className:"block w-auto h-full object-contain",style:"transparent"===L?{backgroundImage:"repeating-conic-gradient(#f5f2fa 0 25%, #0003 0 50%)",backgroundSize:"28px 28px"}:{backgroundColor:L},src:C})}):null,C?(0,x.jsx)("div",{className:"absolute top-2 right-2 flex justify-center items-center w-8 h-8 bg-gray-200 rounded-full cursor-pointer hover:bg-gray-300",onClick:R,children:(0,x.jsx)(p,{className:"w-4 h-4"})}):null,h?(0,x.jsxs)("div",{className:"absolute flex flex-col justify-center items-center inset-0 w-full h-full bg-[rgba(0,0,0,0.5)]",children:[(0,x.jsx)(s.Cd,{className:"w-8 h-8",percent:f,strokeWidth:6,strokeColor:"#2e8555",trailWidth:6}),(0,x.jsx)("div",{className:"mt-2 text-white text-xs",children:k?"Downloading the ai model...":"Image processing..."})]}):null]}),(0,x.jsx)("div",{className:(0,r.Z)("flex justify-center items-center mx-auto my-4 max-w-screen-sm",{"pointer-events-none opacity-60":h}),children:C?(0,x.jsx)("button",{className:"button button--primary relative",onClick:()=>{const e=document.createElement("a");"transparent"===L?(e.href=C,e.download="background-removed.png",e.click()):v(C,L).then((t=>{e.href=t,e.download="background-removed.png",e.click()})).catch((()=>{}))},children:"Download"}):null})]})]})})}}}]);